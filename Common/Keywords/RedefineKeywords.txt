*** Settings ***
Library           Selenium2Library    run_on_failure=Selenium2Library.Capture Page Screenshot
Library           ../../Library/Mobile/AISAppiumEx.py    run_on_failure=Selenium2Library.Capture Page Screenshot

*** Keywords ***
Click Web Element
    [Arguments]    ${locator}
    ${result}    Run Keyword And Return Status    Selenium2Library.Wait Until Element Is Visible    ${locator}    10
    Comment    Log To Console    ${result}
    Comment    Log To Console    ${locator} from click web element
    Run Keyword If    '${result}'=='False'    Click Web Element By Wait Web Until Page Contains Element    ${locator}
    ...    ELSE    Selenium2Library.Click Element    ${locator}

Click Mobile Element
    [Arguments]    ${locator}
    AISAppiumEx.Click Element    ${locator}

Click Web Button
    [Arguments]    ${locator}
    ${result}    Run Keyword And Return Status    Selenium2Library.Wait Until Element Is Visible    ${locator}    10
    Comment    Log To Console    ${result}
    Comment    Log To Console    ${locator} from Click Web Button
    Run Keyword If    '${result}'=='False'    Click Web Button By Wait Web Until Page Contains Element    ${locator}
    ...    ELSE    Selenium2Library.Click Button    ${locator}

Click Mobile Button
    [Arguments]    ${index_or_name}
    AISAppiumEx.Click Button    ${index_or_name}

Input Web Text
    [Arguments]    ${locator}    ${text}
    ${result}    Run Keyword And Return Status    Selenium2Library.Wait Until Element Is Visible    ${locator}    10
    Log To Console    ${result}
    Log To Console    ${locator} from Input Web Text
    Run Keyword If    '${result}'=='False'    Input Web Text By Wait Web Until Page Contains Element    ${locator}    ${text}
    ...    ELSE    Selenium2Library.Input Text    ${locator}    ${text}

Input Mobile Text
    [Arguments]    ${locator}    ${text}
    AISAppiumEx.Input Text    ${locator}    ${text}

Web Element Should Be Disabled
    [Arguments]    ${locator}
    Wait Until Element Is Visible    ${locator}    10
    Selenium2Library.Element Should Be Disabled    ${locator}

Web Element Should Be Enabled
    [Arguments]    ${locator}
    Wait Until Element Is Visible    ${locator}
    Selenium2Library.Element Should Be Enabled    ${locator}

Wait Web Until Page Contains Element
    [Arguments]    ${locator}
    Selenium2Library.Wait Until Page Contains Element    ${locator}    10

Wait Mobile Until Page Contains Element
    [Arguments]    ${locator}
    AISAppiumEx.Wait Until Page Contains Element    ${locator}

Get Web Text
    [Arguments]    ${locator}    ${timeout}=10
    ${result}    Run Keyword And Return Status    Selenium2Library.Wait Until Element Is Visible    ${locator}    10
    Log To Console    ${result}
    Log To Console    ${locator} from Get Web Text
    ${Text}    Run Keyword If    '${result}'=='False'    Get Web Text By Wait Web Until Page Contains Element    ${locator}
    ...    ELSE    Get Web Text By Wait Until Element Is Visible    ${locator}
    [Return]    ${Text}

Mobile Switch App
    [Arguments]    ${AppName}
    [Documentation]    You have to wait before opening the program.
    Press Keycode    187
    sleep    2
    Click Mobile Element    xpath=(//android.widget.TextView[@text='${AppName}'])

Web Element Should Be Visible
    [Arguments]    ${locator}
    Wait Until Element Is Visible    ${locator}    10
    Element Should Be Visible    ${locator}

Web Element Text Should Be
    [Arguments]    ${locator}    ${text}
    Wait Until Element Is Visible    ${locator}    10
    Element Text Should Be    ${locator}    ${text}

Select From Web List By Value
    [Arguments]    ${locator}    ${Value}
    Wait Until Element Is Visible    ${locator}
    Select From List By Value    ${locator}    ${Value}

Click Web Image
    [Arguments]    ${locator}
    ${result}    Run Keyword And Return Status    Selenium2Library.Wait Until Element Is Visible    ${locator}    10
    Log To Console    ${result}
    Log To Console    ${locator} from click Image
    Run Keyword If    '${result}'=='False'    Click Image By Wait Web Until Page Contains Element    ${locator}
    ...    ELSE    Click Image    ${locator}

Click Web Element By Wait Web Until Page Contains Element
    [Arguments]    ${locator}
    Selenium2Library.Wait Until Page Contains Element    ${locator}    10
    Log To Console    ${locator}
    Selenium2Library.Click Element    ${locator}

Click Web Button By Wait Web Until Page Contains Element
    [Arguments]    ${locator}
    Selenium2Library.Wait Until Page Contains Element    ${locator}    10
    Log To Console    ${locator}
    Selenium2Library.Click Button    ${locator}

Input Web Text By Wait Web Until Page Contains Element
    [Arguments]    ${locator}    ${text}
    Selenium2Library.Wait Until Page Contains Element    ${locator}    10
    Log To Console    ${locator}
    Selenium2Library.Input Text    ${locator}    ${text}

Get Web Text By Wait Web Until Page Contains Element
    [Arguments]    ${locator}    ${timeout}=10
    Selenium2Library.Wait Until Page Contains Element    ${locator}    ${timeout}
    ${Text}    Selenium2Library.Get Text    ${locator}
    [Return]    ${Text}

Get Web Text By Wait Until Element Is Visible
    [Arguments]    ${locator}    ${timeout}=10
    Selenium2Library.Wait Until Element Is Visible    ${locator}    ${timeout}
    ${Text}    Selenium2Library.Get Text    ${locator}
    [Return]    ${Text}

Click Image By Wait Web Until Page Contains Element
    [Arguments]    ${locator}
    Selenium2Library.Wait Until Page Contains Element    ${locator}    10
    Click Image    ${locator}
